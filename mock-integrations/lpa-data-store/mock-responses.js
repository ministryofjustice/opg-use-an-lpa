(() => {
  // src/lpas/4000.json
  var __default = {
    uid: "M-7890-0400-4000",
    status: "registered",
    registrationDate: "2024-01-12",
    updatedAt: "2024-01-12T23:00:00Z",
    lpaType: "personal-welfare",
    channel: "online",
    restrictionsAndConditions: "My attorneys cannot sell my home unless, in my GPs opinion, I can no longer live independently. If I do have to move into a care home, I would prefer to live within a few miles of my sister Jean.",
    donor: {
      uid: "eda719db-8880-4dda-8c5d-bb9ea12c236f",
      firstNames: "Feeg",
      lastName: "Bundlaaaa",
      address: {
        line1: "74 Cloob Close",
        town: "Mahhhhhhhhhh",
        postcode: "TP6 8EX",
        country: "GB"
      },
      dateOfBirth: "1970-01-24",
      email: "nobody@not.a.real.domain",
      contactLanguagePreference: "en",
      identityCheck: {
        checkedAt: "2024-01-10T23:00:00Z",
        type: "one-login"
      }
    },
    attorneys: [
      {
        uid: "9ac5cb7c-fc75-40c7-8e53-059f36dbbe3d",
        firstNames: "Herman",
        lastName: "Seakrest",
        address: {
          line1: "81 NighOnTimeWeBuiltIt Street",
          town: "Mahhhhhhhhhh",
          postcode: "PC4 6UZ",
          country: "GB"
        },
        dateOfBirth: "1982-07-24",
        status: "active",
        channel: "paper",
        signedAt: "2024-01-10T23:00:00Z"
      },
      {
        uid: "9201a0b8-70a2-47db-93f2-c7510b4210ae",
        firstNames: "Jessica",
        lastName: "Seakrest",
        address: {
          line1: "81 NighOnTimeWeBuiltIt Street",
          town: "Mahhhhhhhhhh",
          country: "GB"
        },
        dateOfBirth: "1984-04-13",
        status: "replacement",
        channel: "online",
        signedAt: "2024-01-10T23:00:00Z"
      }
    ],
    trustCorporations: [
      {
        uid: "1d95993a-ffbb-484c-b2fe-f4cca51801da",
        name: "Trust us Corp.",
        companyNumber: "666123321",
        address: {
          line1: "103 Line 1",
          town: "Town",
          country: "GB"
        },
        status: "active",
        channel: "paper",
        signedAt: "2024-01-10T23:00:00Z"
      }
    ],
    certificateProvider: {
      uid: "6808960d-12cf-47c5-a2bc-3177deb8599c",
      firstNames: "Vone",
      lastName: "Spust",
      address: {
        line1: "122111 Zonnington Way",
        town: "Mahhhhhhhhhh",
        country: "GB"
      },
      channel: "online",
      email: "a@example.com",
      phone: "070009000",
      signedAt: "2024-01-10T23:00:00Z",
      identityCheck: {
        checkedAt: "2024-01-10T23:00:00Z",
        type: "one-login"
      }
    },
    lifeSustainingTreatmentOption: "option-a",
    signedAt: "2024-01-10T23:00:00Z",
    howAttorneysMakeDecisions: "jointly-for-some-severally-for-others",
    howAttorneysMakeDecisionsDetails: "My atttorneys must jointly agree on a decision to sell or let out my house.",
    whenTheLpaCanBeUsed: "when-capacity-lost"
  };

  // src/lpas/4861.json
  var __default2 = {
    uid: "M-0407-6149-4861",
    status: "registered",
    registrationDate: "2026-01-19",
    updatedAt: "2026-01-19T23:00:00Z",
    lpaType: "property-and-affairs",
    channel: "paper",
    donor: {
      uid: "aa5fffc9-8b21-4975-bc1d-813b3693877e",
      firstNames: "Henry",
      lastName: "Gibbons",
      address: {
        line1: "24 Weststoke Avenue",
        town: "Somewhere Town",
        postcode: "PC32 AUY",
        country: "GB"
      },
      dateOfBirth: "1970-01-24",
      contactLanguagePreference: "en",
      identityCheck: {
        checkedAt: "2026-01-18T23:00:00Z",
        type: "opg-paper-id"
      }
    },
    attorneys: [
      {
        uid: "dde2e65b-7c8d-4f8f-a504-538c7f1bc6d6",
        firstNames: "Alexis",
        lastName: "Gibbons",
        address: {
          line1: "81 Abouthere Street",
          town: "Somewhere Town",
          postcode: "PC32 6UZ",
          country: "GB"
        },
        dateOfBirth: "1982-07-24",
        status: "active",
        channel: "paper",
        signedAt: "2026-01-10T23:00:00Z"
      },
      {
        uid: "5a76a6f4-de54-4cc6-8a69-b5ee8ecf2cba",
        firstNames: "Barry",
        lastName: "Alan",
        address: {
          line1: "12 Abouthere Street",
          town: "Somewhere Town",
          postcode: "PC32 6UD",
          country: "GB"
        },
        dateOfBirth: "1984-04-13",
        status: "replacement",
        channel: "paper",
        signedAt: "2026-01-10T23:00:00Z"
      }
    ],
    certificateProvider: {
      uid: "fe75c51f-7d22-409b-b413-20e9dad4a614",
      firstNames: "Vone",
      lastName: "Spust",
      address: {
        line1: "145b Isignthings Cresent",
        town: "Somewhere Town",
        country: "GB"
      },
      channel: "paper",
      email: "a@example.com",
      phone: "070009000",
      signedAt: "2026-01-10T23:00:00Z",
      identityCheck: {
        checkedAt: "2026-01-18T23:00:00Z",
        type: "opg-paper-id"
      }
    },
    lifeSustainingTreatmentOption: "option-a",
    signedAt: "2026-01-10T23:00:00Z",
    restrictionsAndConditionsImages: [
      {
        path: "http://localhost:4010/M-0407-6149-4861/scans/rac-M-0407-6149-4861.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AAAAAAAAAAAAA%2F20230110%2Feu-west-1%2Fs3%2Faws4_request&X-Amz-Date=20230110T170414Z&X-Amz-Expires=600&X-Amz-SignedHeaders=host&X-Amz-Security-Token=FwoGZXIvYXdzEEsaDA9nffwerfrfrffqiK0Ae6ydwSr1R7ho%2BkIqn%2FOYVShw77vHhp5XuM945Z5uuqFQTUP128xAiCqgERWsuT7BSLhPeazeR6QjAm0jjH8JTa9YQ1OqBlF6BSY3o6oOvnagVxDwx1SzfEQK%2FMdoPpwOgPQ1qIN714YJfGe0Qp%2FbdAv%2F5tLGG5rgBX98CCuWTszpsWQnaFtfEWhfTG%2BvqUsjavsusT7TmPbHMv7gFqvSoU8Aos7LDt8vgUuA8TrD%2FQs9ZjkxyiOtfadBjItlHw%2BOq8%2BVpd24d24d24d24d42dZufWkjxnisGe4K9cMD0hNr5PjCXa3c1QRo&X-Amz-Signature=fd5ec81d49482cc2b26aac02ffe94e9d82d3e29b00c368fb1bad707f83929392"
      }
    ],
    howAttorneysMakeDecisions: "jointly-for-some-severally-for-others",
    howAttorneysMakeDecisionsDetailsImages: [
      {
        path: "http://localhost:4010/M-0407-6149-4861/scans/jjs-M-0407-6149-4861.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AAAAAAAAAAAAA%2F20230110%2Feu-west-1%2Fs3%2Faws4_request&X-Amz-Date=20230110T170414Z&X-Amz-Expires=600&X-Amz-SignedHeaders=host&X-Amz-Security-Token=FwoGZXIvYXdzEEsaDA9nffwerfrfrffqiK0Ae6ydwSr1R7ho%2BkIqn%2FOYVShw77vHhp5XuM945Z5uuqFQTUP128xAiCqgERWsuT7BSLhPeazeR6QjAm0jjH8JTa9YQ1OqBlF6BSY3o6oOvnagVxDwx1SzfEQK%2FMdoPpwOgPQ1qIN714YJfGe0Qp%2FbdAv%2F5tLGG5rgBX98CCuWTszpsWQnaFtfEWhfTG%2BvqUsjavsusT7TmPbHMv7gFqvSoU8Aos7LDt8vgUuA8TrD%2FQs9ZjkxyiOtfadBjItlHw%2BOq8%2BVpd24d24d24d24d42dZufWkjxnisGe4K9cMD0hNr5PjCXa3c1QRo&X-Amz-Signature=fd5ec81d49482cc2b26aac02ffe94e9d82d3e29b00c368fb1bad707f83929392"
      }
    ],
    whenTheLpaCanBeUsed: "when-capacity-lost"
  };

  // src/lpas/lpas.mjs
  var lpaData = [
    __default,
    __default2
  ];
  var getLpa = (uid) => {
    const lpas = getList([uid]);
    return lpas.lpas.pop();
  };
  var getList = (uids) => {
    const lpas = [];
    for (const lpa of lpaData) {
      if (uids.includes(lpa.uid)) {
        lpas.push(lpa);
      }
    }
    return {
      lpas
    };
  };

  // src/index.mjs
  var opId = context.operation.operationId;
  logger.info("Operation is " + opId);
  var code = 400;
  var response = "";
  if (opId === "getLpa") {
    let data = getLpa(context.request.pathParams.uid);
    if (data.uid === void 0) {
      code = 404;
    } else {
      code = 200;
      response = JSON.stringify(data);
    }
  } else if (opId === "getList") {
    if (context.request.body !== null) {
      let uids = JSON.parse(context.request.body).uids;
      code = 200;
      response = JSON.stringify(getList(uids));
      logger.info(uids.length + " lpas requested");
    }
  } else if (opId === "healthCheck") {
    code = 200;
    response = JSON.stringify({ "status": "OK" });
    logger.info("healthcheck requested");
  }
  if (response === "") {
    respond().withStatusCode(code).usingDefaultBehaviour();
  } else {
    respond().withStatusCode(code).withData(response);
  }
})();
