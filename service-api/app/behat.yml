default:
  gherkin:
    filters:
      tags: '~@wip'

  extensions:
    Acpr\Behat\Psr\ServiceContainer\Extension:
      application: "%paths.base%/features/bootstrap/app.php"
    Behat\MinkExtension:
      base_url: 'http://localhost'
      psr: ~
    NicWortel\BehatUnusedStepDefinitionsExtension\Extension:
      filters:
        exclude:
          - '/Behat\\MinkExtension\\Context\\MinkContext/'

integration:
  extensions:
    Acpr\Behat\Psr\ServiceContainer\Extension:
      container: "%paths.base%/features/bootstrap/container.integration.php"
  suites:
    all:
      contexts:
        - BehatTest\Context\Integration\AccountContext
        - BehatTest\Context\Integration\LpaContext
        - BehatTest\Context\Integration\ViewerContext
        - BehatTest\Context\Integration\FeatureFlagContext
      filters:
        tags: "@integration"

acceptance:
  extensions:
    Acpr\Behat\Psr\ServiceContainer\Extension:
      container: "%paths.base%/features/bootstrap/container.acceptance.php"
  suites:
    actor:
      contexts:
        - Behat\MinkExtension\Context\MinkContext
        - BehatTest\Context\Acceptance\BaseAcceptanceContext
        - BehatTest\Context\Acceptance\AccountContext
        - BehatTest\Context\Acceptance\CommonContext
        - BehatTest\Context\Acceptance\LpaContext
        - BehatTest\Context\Acceptance\FeatureFlagContext
        - BehatTest\Context\Acceptance\OidcContext
      filters:
        tags: "@actor&&@acceptance"
    viewer:
      contexts:
        - Behat\MinkExtension\Context\MinkContext
        - BehatTest\Context\Acceptance\BaseAcceptanceContext
        - BehatTest\Context\Acceptance\ViewerContext
        - BehatTest\Context\Acceptance\CommonContext
        - BehatTest\Context\Acceptance\LpaContext
        - BehatTest\Context\Acceptance\FeatureFlagContext
      filters:
        tags: "@viewer&&@acceptance"
