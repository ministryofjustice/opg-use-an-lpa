{% extends '@viewer/layout.html.twig' %}

{% block page_title %}{% trans %}Check your answers{% endtrans %}{% endblock %}

{% block content %}
    <div class="govuk-width-container">
        <div role="navigation" aria-labelledby="back-link-navigation">
            <a href="{{ path(back) }}" class="govuk-back-link" id="back-link-navigation">{% trans %}Back{% endtrans %}</a>
        </div>

        <main class="govuk-main-wrapper " id="main-content" role="main">
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-two-thirds">
                    <h1 class="govuk-heading-xl">{% trans %}Check your answers{% endtrans %}</h1>

                    <dl class="govuk-summary-list">
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">
                                {% trans %}LPA reference number{% endtrans %}
                            </dt>
                            <dd class="govuk-summary-list__value">
                                {{ lpaUid }}
                            </dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="{{ path('pv.check-code') }}">
                                    {% trans %}Change<span class="govuk-visually-hidden"> name</span>{% endtrans %}
                                </a>
                            </dd>
                        </div>

                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">
                                {% trans %}Who the paper verification code was sent to{% endtrans %}
                            </dt>
                            <dd class="govuk-summary-list__value">
                                {{ sentToDonor ? donorName : attorneyName }}
                            </dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="{{ path('pv.verification-code-sent-to') }}">
                                    {% trans %}Change<span class="govuk-visually-hidden"> who the paper verification code was sent to</span>{% endtrans %}
                                </a>
                            </dd>
                        </div>

                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">
                                {% trans with { '%name%': sentToDonor ? donorName : attorneyName } %}%name%’s date of birth{% endtrans %}
                            </dt>
                            <dd class="govuk-summary-list__value">
                                {{ lpa_date(dateOfBirth) }}
                            </dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="{{ path(sentToDonor ? 'pv.donor-dob' : 'pv.attorney-dob') }}">
                                    {% trans with { '%name%': sentToDonor ? donorName : attorneyName } %}Change<span class="govuk-visually-hidden"> %name%’s date of birth</span>{% endtrans %}
                                </a>
                            </dd>
                        </div>

                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">
                                {% trans %}Number of attorneys{% endtrans %}
                            </dt>
                            <dd class="govuk-summary-list__value">
                                {{ noOfAttorneys }}
                            </dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="{{ path(sentToDonor ? 'pv.provide-attorney-details' : 'pv.number-of-attorneys') }}">
                                    {% trans %}Change<span class="govuk-visually-hidden"> number of attorneys</span>{% endtrans %}
                                </a>
                            </dd>
                        </div>

                        {% if sentToDonor %}
                            <div class="govuk-summary-list__row">
                                <dt class="govuk-summary-list__key">
                                    {% trans %}Attorney name{% endtrans %}
                                </dt>
                                <dd class="govuk-summary-list__value">
                                    {{ attorneyName }}
                                </dd>
                                <dd class="govuk-summary-list__actions">
                                    <a class="govuk-link" href="{{ path('pv.provide-attorney-details') }}">
                                        {% trans %}Change<span class="govuk-visually-hidden"> attorney name</span>{% endtrans %}
                                    </a>
                                </dd>
                            </div>
                        {% endif %}
                    </dl>

                    {{ govuk_form_open(form) }}
                    {{ govuk_form_element(form.get('__csrf')) }}

                    <div class="govuk-button-group">
                        <button type="submit" data-prevent-double-click="true" class="govuk-button" data-module="govuk-button">
                            {% trans %}Continue{% endtrans %}
                        </button>

                        <a href="{{ path('home') }}" role="button" draggable="false" class="govuk-button govuk-button--secondary" data-module="govuk-button">
                            {% trans %}Cancel{% endtrans %}
                        </a>
                    </div>

                    {{ govuk_form_close() }}
                </div>
            </div>
        </main>
    </div>
{% endblock %}
